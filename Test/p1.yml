---
- name: user setup
  hosts: control-node
  become: true
  gather_facts: false

  tasks:
    - name: installing pre requisite for mysql_user module
      pip:
        name:
          - PyMySQL
          - mysqlclient

    - name: create a mysql user
      mysql_user:
        login_user: tom
        login_password: tom
        name: bob
        password: test
        priv: '*.*:ALL'
        state: present
      become: yes